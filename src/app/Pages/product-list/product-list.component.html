
<!-- <div class="carousel">
  <div class="slides">
      <div class="slide"><img src="https://helloyubo.com/wp-content/uploads/2022/09/IMG-20220913-WA0040-1024x465.jpg"
         alt="Sale 1"></div>
      <div class="slide"><img src="https://mobirise.com/extensions/commercem4/assets/images/galleries-1-1200x800.png"
        alt="Sale 2"></div>
      <div class="slide"><img src="https://mobirise.com/extensions/commercem4/assets/images/galleries-1-1200x800.png"
        alt="Sale 3"></div>
  </div>
</div> -->

<div class="container">
  <!-- Sidebar Filters (Including Sorting) -->
  <aside class="filters-container">
    <mat-card class="filters">
      
      <!-- Search by Title -->
      <mat-form-field appearance="fill" class="search-field">
        <mat-label>Search</mat-label>
        <input matInput type="text" [(ngModel)]="searchTerm" (input)="applyFilters()" placeholder="Search products..." />
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
      <!-- Sorting Dropdown (Move it to the top of filters) -->
      <mat-form-field appearance="fill">
        <mat-label>Sort by Price</mat-label>
        <mat-select (selectionChange)="onSortChange($event)">
          <mat-option value="lowToHigh">Low to High</mat-option>
          <mat-option value="highToLow">High to Low</mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Category Filter -->
      <mat-form-field appearance="fill">
        <mat-label>Category</mat-label>
        <mat-select (selectionChange)="onCategoryChange($event)">
          <mat-option value="">All Categories</mat-option>
          <mat-option *ngFor="let cat of categories" [value]="cat">{{ cat }}</mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Price Range Filter -->
      <mat-form-field appearance="fill">
        <mat-label>Max Price</mat-label>
        <input matInput type="number" [(ngModel)]="maxPrice" (input)="applyFilters()" />
      </mat-form-field>

    </mat-card>
  </aside>

  <!-- Product Grid -->
  <section class="product-grid">
    <mat-card *ngFor="let product of filteredProducts | paginate: { id: 'productsPagination', itemsPerPage: itemsPerPage, currentPage: currentPage }" class="product-card">
      <img mat-card-image [src]="product.images[0]" alt="{{ product.title }}" class="product-image" />
      <mat-card-content>
        <h3 class="product-title">{{ product.title }}</h3>
        <p class="product-price">$ {{ product.price }}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button color="primary" [routerLink]="['/product', product.id]">View Details</button>
      </mat-card-actions>
    </mat-card>
  </section>
</div>

<div class="pagination-container">
  <pagination-controls id="productsPagination" (pageChange)="currentPage = $event"></pagination-controls>
</div>
